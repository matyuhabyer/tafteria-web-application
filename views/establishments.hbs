<div class="w-full bg-yellow-50 min-h-screen flex flex-col items-center py-16 px-4">
    <h2 class="text-5xl font-bold mb-8 text-center text-gray-800">Taft Establishments</h2>
    <div class="w-full max-w-7xl bg-white p-8 shadow-xl rounded-2xl">
        <div class="flex flex-col md:flex-row gap-8">
            <!-- Filters Sidebar -->
            <aside class="w-full md:w-1/4 mb-8 md:mb-0">
                <div class="bg-gray-100 rounded-xl shadow-md p-6 text-left">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">Filters</h3>
                    <form action="/establishments" method="GET">
                        <div class="mb-4">
                            <label class="block text-gray-700 font-semibold mb-2">Rating</label>
                            <select name="rating" class="w-full rounded-lg border border-gray-300 px-3 py-2">
                                <option value="all" {{#if (eq selectedRating "all")}}selected{{/if}}>All Ratings</option>
                                <option value="4.5" {{#if (eq selectedRating "4.5")}}selected{{/if}}>4.5 & Up</option>
                                <option value="4.0" {{#if (eq selectedRating "4.0")}}selected{{/if}}>4.0 & Up</option>
                                <option value="3.5" {{#if (eq selectedRating "3.5")}}selected{{/if}}>3.5 & Up</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-700 font-semibold mb-2">Category</label>
                            <select name="category" class="w-full rounded-lg border border-gray-300 px-3 py-2">
                                <option value="all" {{#if (eq selectedCategory "all")}}selected{{/if}}>All Categories</option>
                                <option value="Restaurant" {{#if (eq selectedCategory "Restaurant")}}selected{{/if}}>Restaurant</option>
                                <option value="Cafe" {{#if (eq selectedCategory "Cafe")}}selected{{/if}}>Cafe</option>
                                <option value="Stall" {{#if (eq selectedCategory "Stall")}}selected{{/if}}>Stall</option>
                                <option value="Fastfood" {{#if (eq selectedCategory "Fastfood")}}selected{{/if}}>Fastfood</option>
                            </select>
                        </div>
                        <button type="submit" class="w-full bg-green-800 text-white py-2 rounded-lg font-bold hover:bg-green-700 transition-colors">Apply Filters</button>
                    </form>
                </div>
            </aside>
            <!-- Establishments Vertical List -->
            <section class="w-full md:w-3/4">
                <div class="flex flex-col gap-6">
                    {{#each establishments}}
                    <a href="/establishments/{{this._id}}" class="bg-gray-50 rounded-xl shadow-md overflow-hidden transition-transform hover:-translate-y-1 hover:shadow-lg flex flex-col md:flex-row">
                        <img src="{{mainImage}}" alt="{{name}}" class="w-full md:w-64 h-48 object-cover rounded-t-xl md:rounded-l-xl md:rounded-t-none" />
                        <div class="p-6 flex flex-col justify-between flex-1">
                            <div class="flex items-center text-sm text-gray-500 mb-2">
                                <span class="text-yellow-400 text-2xl mr-2">&#9733;</span>
                                <span class="mr-1 font-semibold">{{rating}}</span>
                                <span>({{reviewsCount}} Reviews)</span>
                            </div>
                            <h3 class="text-2xl font-bold mb-2 text-gray-800">{{name}}</h3>
                            <span class="inline-block bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full mb-2 w-fit">{{category}}</span>
                            <p class="text-gray-700">{{description}}</p>
                            <p class="text-sm text-gray-500 mt-2">{{phone}}</p>
                        </div>
                    </a>
                    {{/each}}
                </div>
            </section>
        </div>
    </div>
</div>
